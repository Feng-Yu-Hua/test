<mxfile host="app.diagrams.net" modified="2020-04-28T14:46:00.543Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36" etag="RDNxmE_6eHwcP-k0IW5e" version="13.0.2" type="github" pages="2">
  <diagram id="6d37e-LvLqj5YfDr0Tey" name="第1頁">
    <mxGraphModel dx="1426" dy="777" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="e0qCqslfjd4uPNf4J3jc-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-2" target="e0qCqslfjd4uPNf4J3jc-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-2" value="&lt;span&gt;php artisan ab:betlog&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="354" y="50" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-4" target="e0qCqslfjd4uPNf4J3jc-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-4" value="$this-&amp;gt;getOpt();" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="354" y="400" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-6" target="e0qCqslfjd4uPNf4J3jc-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-6" value="&lt;span&gt;預設option(&#39;starttime&#39;)=2017-01-01 00:00:00;&lt;br&gt;&lt;/span&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;option(&#39;endtime&#39;)=2017-01-01 00:00:59;&lt;/div&gt;&lt;div&gt;&lt;span&gt;option(&#39;test&#39;)=0/1;&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="269" y="510" width="290" height="80" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-8" target="e0qCqslfjd4uPNf4J3jc-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-8" target="e0qCqslfjd4uPNf4J3jc-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-8" value="php artisan 是否有輸入&lt;br&gt;option(&#39;starttime&#39;);" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="324" y="640" width="180" height="80" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-11" target="e0qCqslfjd4uPNf4J3jc-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-11" value="&lt;span&gt;option(&#39;starttime&#39;);&lt;br&gt;為輸入值&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="210" y="740" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-13" target="e0qCqslfjd4uPNf4J3jc-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-13" value="&lt;span&gt;option(&#39;starttime&#39;);&lt;/span&gt;&lt;br&gt;&lt;span&gt;為當下時間的前兩分鐘&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="504" y="740" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-17" target="e0qCqslfjd4uPNf4J3jc-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-17" target="e0qCqslfjd4uPNf4J3jc-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-17" value="&lt;span&gt;php artisan 是否有輸入&lt;/span&gt;&lt;br&gt;option(&#39;endtime&#39;);" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="326" y="890" width="176" height="80" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-20" target="e0qCqslfjd4uPNf4J3jc-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-20" value="option(&#39;endtime&#39;);&lt;span&gt;&lt;br&gt;為輸入值&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="210" y="1000" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-22" target="e0qCqslfjd4uPNf4J3jc-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-22" value="option(&#39;endtime&#39;);&lt;br&gt;&lt;span&gt;為&lt;/span&gt;starttime&lt;span&gt;的59秒&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="504" y="1000" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-24" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="414" y="1270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-24" target="e0qCqslfjd4uPNf4J3jc-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-24" value="&lt;span&gt;option(&#39;starttime&#39;);時間&lt;br&gt;是否&amp;gt;&lt;/span&gt;option(&#39;endtime&#39;);&lt;span&gt;&lt;br&gt;&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="317" y="1130" width="194" height="100" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-27" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="233" y="978" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-28" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="575" y="980" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-29" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="233" y="720" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-30" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="575" y="720" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-33" target="e0qCqslfjd4uPNf4J3jc-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-33" value="丟&lt;br&gt;($platform_obj, $this-&amp;gt;startTime, 1)&lt;br&gt;至App\Jobs\Betlog" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="316" y="1270" width="196" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-35" value="丟錯誤處理" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="590" y="1150" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-39" target="e0qCqslfjd4uPNf4J3jc-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-39" value="傳入整個PlatformRepository&lt;br&gt;類" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="354" y="180" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-43" target="e0qCqslfjd4uPNf4J3jc-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-43" value="使它能擁有App\Platform\AB&lt;br&gt;功能" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="354" y="290" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-46" target="e0qCqslfjd4uPNf4J3jc-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-46" value="進入getBetLog&lt;br&gt;取得下注紀錄" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="354" y="1380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-48" target="e0qCqslfjd4uPNf4J3jc-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-48" value="將test 0/1用&lt;br&gt;getMd5Key&lt;br&gt;getDesKey&lt;br&gt;加密" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="354" y="1500" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-50" target="e0qCqslfjd4uPNf4J3jc-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-50" value="$start_time&lt;br&gt;setTimezone&lt;br&gt;使用台灣時區" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="354" y="1610" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-52" target="e0qCqslfjd4uPNf4J3jc-54" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-52" value="$end_time = clone $start_time;&lt;br&gt;將結束時間設置等同開始時間" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="346" y="1740" width="136" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-54" target="e0qCqslfjd4uPNf4J3jc-56" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-54" value="$end_time-&amp;gt;add(new \DateInterval(&#39;PT1M&#39;));&lt;br&gt;將結束時間增加多一分鐘" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="336" y="1870" width="156" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-59" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-56" target="e0qCqslfjd4uPNf4J3jc-58" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-56" value="設定驗證參數" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="354" y="1980" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-58" target="e0qCqslfjd4uPNf4J3jc-61" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-58" value="驗證參數進入該class的encryptText函式&lt;br&gt;加密成$data 和 $sign" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="336" y="2090" width="156" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-74" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-61" target="e0qCqslfjd4uPNf4J3jc-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-61" value="$data 和 $sign&lt;br&gt;base64_encode&lt;br&gt;編碼 帶入Api參數" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="346" y="2200" width="136" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-81" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-63" target="e0qCqslfjd4uPNf4J3jc-80" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-63" value="callApi 獲得API資料&lt;br&gt;並將json轉為array" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="354" y="2550" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NhlmIAI5MG-4_h62vgC7-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="e0qCqslfjd4uPNf4J3jc-67" target="NhlmIAI5MG-4_h62vgC7-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-67" value="每1000筆&lt;br&gt;拆解一次陣列" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="354" y="3690" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-69" value="WriteBetlog&lt;br&gt;寫入注單資料" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="560" y="4062" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-77" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-73" target="e0qCqslfjd4uPNf4J3jc-76" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-73" value="$this-&amp;gt;platform = $this-&amp;gt;&lt;br&gt;getPlatformInfo($platform_repository, $game_kind);&lt;br&gt;另platform物件變數 並快取資料" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="271.25" y="2310" width="285.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-76" target="e0qCqslfjd4uPNf4J3jc-63" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-76" value="$url = $this-&amp;gt;platform-&amp;gt;wagers_url . &#39;/betlog_histories&#39;;&lt;br&gt;獲得url資料" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="311" y="2440" width="206" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-83" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-80" target="e0qCqslfjd4uPNf4J3jc-82" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-88" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-80" target="e0qCqslfjd4uPNf4J3jc-87" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-80" value="&lt;font style=&quot;font-size: 12px&quot;&gt;json_last_error()&lt;br&gt;JSON 編碼解碼時是否有發生錯誤&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="289.5" y="2660" width="249" height="100" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-82" value="&lt;span&gt;丟錯誤處理&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="620" y="2680" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-90" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-87" target="e0qCqslfjd4uPNf4J3jc-89" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-92" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-87" target="e0qCqslfjd4uPNf4J3jc-91" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-87" value="$responses[&#39;error_code&#39;] != &#39;OK&#39;&lt;br&gt;資料的error_code欄位是否為OK" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="291" y="2810" width="246" height="100" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-89" value="&lt;span&gt;丟錯誤處理&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="620" y="2830" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-94" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-91" target="e0qCqslfjd4uPNf4J3jc-93" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-96" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-91" target="e0qCqslfjd4uPNf4J3jc-95" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-91" value="判斷是否為空值&lt;br&gt;$responses[&#39;page&#39;][&#39;count&#39;]" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="291" y="2960" width="246" height="80" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-100" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="160" y="3110" as="sourcePoint" />
            <mxPoint x="414" y="3220" as="targetPoint" />
            <Array as="points">
              <mxPoint x="160" y="3180" />
              <mxPoint x="414" y="3180" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-93" value="&lt;div&gt;$result = [&amp;nbsp;&lt;span&gt;&#39;data&#39; =&amp;gt; null ,&amp;nbsp;&lt;/span&gt;&lt;span&gt;&#39;totalPage&#39; =&amp;gt; 1&lt;/span&gt;&lt;span&gt;];&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="3050" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-102" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-95" target="e0qCqslfjd4uPNf4J3jc-97" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-95" value="&lt;div&gt;$result = [&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&#39;data&#39; =&amp;gt; $responses[&#39;page&#39;][&#39;datas&#39;]&lt;/span&gt;&lt;span&gt;&amp;nbsp;,&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&#39;totalPage&#39; =&amp;gt; ceil($responses[&#39;page&#39;][&#39;count&#39;] / $this-&amp;gt;page_size)&lt;div&gt;&lt;span&gt;];&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="570" y="3050" width="240" height="90" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-104" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-97" target="e0qCqslfjd4uPNf4J3jc-103" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-97" value="&lt;div&gt;回傳return $result;&lt;/div&gt;&lt;div&gt;至App\Jobs&amp;nbsp;handle()&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="354" y="3220" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-106" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="e0qCqslfjd4uPNf4J3jc-103" target="e0qCqslfjd4uPNf4J3jc-105" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NhlmIAI5MG-4_h62vgC7-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="e0qCqslfjd4uPNf4J3jc-103" target="NhlmIAI5MG-4_h62vgC7-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-103" value="&lt;span&gt;判斷是否為空值&lt;/span&gt;&lt;br&gt;&lt;span&gt;$responses[&#39;data&#39;]&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="301" y="3330" width="226" height="80" as="geometry" />
        </mxCell>
        <mxCell id="e0qCqslfjd4uPNf4J3jc-105" value="回傳$response至&lt;br&gt;App\Console\Commands\AB的$job&lt;br&gt;並Queue(&#39;ab:betlog&#39;);並推送至&lt;br&gt;App\Jobs\Betlog" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="60" y="3590" width="241" height="80" as="geometry" />
        </mxCell>
        <mxCell id="NhlmIAI5MG-4_h62vgC7-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="NhlmIAI5MG-4_h62vgC7-1" target="NhlmIAI5MG-4_h62vgC7-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NhlmIAI5MG-4_h62vgC7-1" value="進入getPlatformCode&lt;br&gt;取得平台資料" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="354" y="3460" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NhlmIAI5MG-4_h62vgC7-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="NhlmIAI5MG-4_h62vgC7-3" target="e0qCqslfjd4uPNf4J3jc-67">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NhlmIAI5MG-4_h62vgC7-3" value="取得資料後回傳&lt;br&gt;並且改為小寫" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="354" y="3570" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NhlmIAI5MG-4_h62vgC7-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="NhlmIAI5MG-4_h62vgC7-6" target="NhlmIAI5MG-4_h62vgC7-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NhlmIAI5MG-4_h62vgC7-6" value="陣列另為$job&lt;br&gt;並Queue($code . &#39;:write_betlog&#39;);並推送至&lt;br&gt;App\Platform\AbstractPlatform writeBetlog" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="293.5" y="3810" width="241" height="70" as="geometry" />
        </mxCell>
        <mxCell id="NhlmIAI5MG-4_h62vgC7-9" value="執行getBetLogModel()&lt;br&gt;得到投注記錄模型" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="354" y="3930" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="H8lZ_ONA0fqVO8h-JpI6" name="第2頁">
    <mxGraphModel dx="1426" dy="777" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="7vazOF4FCSyLsT4ZdU_N-0" />
        <mxCell id="7vazOF4FCSyLsT4ZdU_N-1" parent="7vazOF4FCSyLsT4ZdU_N-0" />
        <mxCell id="C4LGc7bmyDlZmG09r5n--0" value="&lt;span style=&quot;font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; float: none ; display: inline&quot;&gt;呼叫ab:betlog command&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="7vazOF4FCSyLsT4ZdU_N-1">
          <mxGeometry x="340" y="80" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="mnAm4qC4DDEtjckovun5-0" value="得到&lt;br&gt;starttime&lt;br&gt;&lt;span&gt;endtime&lt;br&gt;&lt;/span&gt;&lt;span&gt;test&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="7vazOF4FCSyLsT4ZdU_N-1">
          <mxGeometry x="340" y="200" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cslCkW5Cqk8Z-X31cT3x-0" value="取得下注紀錄" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="7vazOF4FCSyLsT4ZdU_N-1">
          <mxGeometry x="340" y="310" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="L4Xa1LejsT2McNCve-0g-0" value="取得api資料" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="7vazOF4FCSyLsT4ZdU_N-1">
          <mxGeometry x="340" y="420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="oHF4FzdmnSj7UrRcd5JP-0" value="取得平台資料" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="7vazOF4FCSyLsT4ZdU_N-1">
          <mxGeometry x="340" y="530" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
